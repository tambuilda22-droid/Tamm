local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

--- [ Cáº¤U HÃŒNH Há»† THá»NG ] ---
local Window = Rayfield:CreateWindow({
   Name = "â—…TÃ¢mVIPâ„ - ModVip v4.1",
   LoadingTitle = "Äang náº¡p há»‡ thá»‘ng SiÃªu Cáº¥p...",
   LoadingSubtitle = "â—¯by TÃ¢m06â—… | Há»a Lá»±c X2",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "TamVIP_Configs", 
      FileName = "MainConfig"
   },
   KeySystem = false 
})

--- [ KHá»žI Táº O BIáº¾N ] ---
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local lp = Players.LocalPlayer
local remoteF = ReplicatedStorage:WaitForChild("RemoteEventF")

local settings = {
    range = 500,
    damage_mult = 10 -- ÄÃ£ máº·c Ä‘á»‹nh lÃªn x10 theo yÃªu cáº§u
}

-- Há»‡ thá»‘ng Hooks
local hooks = {
    walkspeed = 40,
    jumppower = 100
}

_G.AutoFarmCoin = false
_G.AutoKillLan = false
_G.GodMode = false
_G.NoRecoil = false
_G.NoReload = false
_G.ESP_Zombie = false

--- [ Há»† THá»NG BYPASS HOOKS ] ---
local originalIndex
local originalNewIndex

originalIndex = hookmetamethod(game, "__index", function(self, property)
    if not checkcaller() and self:IsA("Humanoid") and self:IsDescendantOf(lp.Character) then
        local lowerProperty = property:lower()
        if hooks[lowerProperty] then
            return hooks[lowerProperty]
        end
    end
    return originalIndex(self, property)
end)

originalNewIndex = hookmetamethod(game, "__newindex", function(self, property, value)
    if not checkcaller() and self:IsA("Humanoid") and self:IsDescendantOf(lp.Character) then
        local lowerProperty = property:lower()
        if hooks[lowerProperty] then
            hooks[lowerProperty] = value
            return
        end
    end
    
    if _G.NoRecoil and not checkcaller() and (property == "Recoil" or property == "Shake") then
        return originalNewIndex(self, property, 0)
    end
    
    return originalNewIndex(self, property, value)
end)

--- [ TABS ] ---
local FarmTab = Window:CreateTab("ðŸ’£ Auto Farm", "bomb")
local PlayerTab = Window:CreateTab("âš¡ Player", "user")
local WeaponTab = Window:CreateTab("ðŸ”« VÅ© KhÃ­", "crosshair")
local VisualTab = Window:CreateTab("ðŸ‘ï¸ Hiá»ƒn Thá»‹", "eye")

--- [ TAB AUTO FARM ] ---
FarmTab:CreateSection("Farm Zombie SiÃªu Cáº¥p - Damage x10")

FarmTab:CreateToggle({
   Name = "â—…Giáº¿t Cháº­m (â—¯Smaw)",
   CurrentValue = false,
   Callback = function(Value) _G.AutoFarmCoin = Value end,
})

FarmTab:CreateToggle({
   Name = "â—…Giáº¿t Nhanh (â—¯PzF 3)",
   CurrentValue = false,
   Callback = function(Value) _G.AutoKillLan = Value end,
})

FarmTab:CreateSlider({
   Name = "â—…Há»a lá»±c (â—¯KÃ©o Vá» 1 Äá»ƒ Hoáº¡t Äá»™ng Packets)",
   Range = {1, 50},
   Increment = 1,
   CurrentValue = 3,
   Callback = function(Value) settings.damage_mult = Value end,
})

--- [ TAB PLAYER ] ---
PlayerTab:CreateSection("Chá»‰ sá»‘ nhÃ¢n váº­t")

PlayerTab:CreateToggle({
   Name = "â—…Báº¥t Tá»­ (â—¯God Mode v2)",
   CurrentValue = false,
   Callback = function(Value) _G.GodMode = Value end,
})

PlayerTab:CreateSlider({
   Name = "â—…Cháº¡y Nhanh (â—¯WalkSpeed)",
   Range = {16, 300},
   Increment = 1,
   CurrentValue = 40,
   Callback = function(v) 
       hooks.walkspeed = v 
       if lp.Character and lp.Character:FindFirstChild("Humanoid") then
           lp.Character.Humanoid.WalkSpeed = v
       end
   end,
})

--- [ TAB VÅ¨ KHÃ ] ---
WeaponTab:CreateSection("Weapon Modifications")

WeaponTab:CreateToggle({
   Name = "â—…No Giáº­t SÃºng (â—¯No Recoil)",
   CurrentValue = false,
   Callback = function(Value) _G.NoRecoil = Value end,
})

WeaponTab:CreateToggle({
   Name = "â—…Inf Äáº¡n (â—¯Fast Scan)",
   CurrentValue = false,
   Callback = function(Value)
      _G.NoReload = Value
      if Value then
          task.spawn(function()
              while _G.NoReload do
                  for _, v in pairs(getgc(true)) do
                      if type(v) == "table" and (rawget(v, "Ammo") or rawget(v, "Clip")) then
                          v.Ammo = 99999
                          v.Clip = 99999
                      end
                  end
                  task.wait(2)
              end
          end)
      end
   end,
})

--- [ TAB HIá»‚N THá»Š ] ---
VisualTab:CreateSection("Visuals")

VisualTab:CreateToggle({
   Name = "â—…Esp Zombie (â—¯Highlight)",
   CurrentValue = false,
   Callback = function(Value) _G.ESP_Zombie = Value end,
})

--- [ Há»† THá»NG VÃ’NG Láº¶P CORE ] ---

-- God Mode Loop
RunService.Heartbeat:Connect(function()
    if _G.GodMode and lp.Character and lp.Character:FindFirstChild("Humanoid") then
        lp.Character.Humanoid.Health = lp.Character.Humanoid.MaxHealth
    end
end)

-- Farm Loop (Modified for 1 hit = 10x damage)
task.spawn(function()
    while task.wait(0.15) do -- Tá»‘c Ä‘á»™ quÃ©t nhanh hÆ¡n má»™t chÃºt
        if _G.AutoFarmCoin or _G.AutoKillLan then
            local char = lp.Character
            local head = char and char:FindFirstChild("Head")
            local enemies = workspace:FindFirstChild("Zombies") or workspace:FindFirstChild("Enemies")
            
            if head and enemies then
                for _, z in ipairs(enemies:GetChildren()) do
                    local zRoot = z:FindFirstChild("HumanoidRootPart")
                    local zHum = z:FindFirstChild("Humanoid")
                    
                    if zRoot and zHum and zHum.Health > 0 then
                        if (zRoot.Position - head.Position).Magnitude <= settings.range then
                            local weapon = _G.AutoKillLan and "PzF 3" or "SMAW"
                            local args = {
                                [1] = {
                                    ["ModelType"] = "Character",
                                    ["TargetPos"] = zRoot.Position,
                                    ["Model"] = z,
                                    ["PlayerName"] = lp.Name,
                                    ["WeaponName"] = weapon,
                                    ["SourcePart"] = head,
                                    ["SourcePos"] = head.Position
                                }
                            }
                            
                            -- VÃ²ng láº·p gá»­i 10 packets cÃ¹ng lÃºc (X10 sÃ¡t thÆ°Æ¡ng má»—i láº§n kÃ­ch hoáº¡t)
                            for i = 1, settings.damage_mult do
                                remoteF:FireServer(unpack(args))
                            end
                            
                            task.wait(0.05) 
                            break 
                        end
                    end
                end
            end
        end
    end
end)

-- ESP Zombie Loop
task.spawn(function()
    while task.wait(1) do
        local folder = workspace:FindFirstChild("Zombies") or workspace:FindFirstChild("Enemies")
        if folder then
            for _, z in pairs(folder:GetChildren()) do
                if _G.ESP_Zombie and z:IsA("Model") and z:FindFirstChild("HumanoidRootPart") then
                    if not z:FindFirstChild("Highlight") then
                        local hl = Instance.new("Highlight", z)
                        hl.FillColor = Color3.fromRGB(255, 0, 0)
                        hl.FillTransparency = 0.5
                        hl.OutlineColor = Color3.fromRGB(255, 255, 255)
                    end
                else
                    if z:FindFirstChild("Highlight") and not _G.ESP_Zombie then
                        z.Highlight:Destroy()
                    end
                end
            end
        end
    end
end)

Rayfield:Notify({
   Title = "ðŸŒ€ TÃ¢mÄáº¹pZaiiâ„ï¸",
   Content = "Há»‡ thá»‘ng v4.1 (Há»a Lá»±c x10) Ä‘Ã£ sáºµn sÃ ng!",
   Duration = 5,
})
